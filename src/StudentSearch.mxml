<?xml version="1.0" encoding="utf-8"?>
<s:Application xmlns:fx="http://ns.adobe.com/mxml/2009" 
			   xmlns:s="library://ns.adobe.com/flex/spark" 
			   height="100%"
			   width="100%"
			   creationComplete="init()"
			   xmlns:mx="library://ns.adobe.com/flex/mx" minWidth="600" minHeight="500" xmlns:services="services.*" xmlns:local="*" xmlns:students="students.*">
	<fx:Declarations>
		<!-- Place non-visual elements (e.g., services, value objects) here -->
	</fx:Declarations>
	<fx:Script>
		<![CDATA[
			
			import mx.core.FlexGlobals; 
			[Bindable] private var _bldgId:String; 
			
			public function init():void { 
				_bldgId = FlexGlobals.topLevelApplication.parameters.bldg_id; 
			}
		]]>
	</fx:Script>
	<services:FlexApp id="app" title="Student Search"/>
	<s:TitleWindow title="Student Search" width="100%" height="100%">
		<s:controlBarContent>
			<s:Button label="Ok">
				<s:click>
					<![CDATA[
					    var s:String = searchCtl.selectedItem.@person_id; 
						app.goto('Student',{person_id:s}); 
					]]>
				</s:click>
			</s:Button> 
			<s:Button label="Close">
				<s:click>
					<![CDATA[
						app.close(); 
					]]>
				</s:click>
			</s:Button>
		</s:controlBarContent>
	    <students:StudentSearch id="searchCtl" enabled="{searchCtl.selectedItem}" bldgId="{_bldgId}" width="100%" height="100%"  /> 
	</s:TitleWindow>
</s:Application>
